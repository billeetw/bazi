# ğŸš€ ç«‹å³éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ

## âš ï¸ å½“å‰æƒ…å†µ

ç”Ÿäº§ç¯å¢ƒ `www.17gonplay.com` è¿˜åœ¨ä½¿ç”¨æ—§ä»£ç ï¼Œå¯¼è‡´ JavaScript é”™è¯¯ã€‚

## âœ… è§£å†³æ–¹æ¡ˆï¼šç«‹å³éƒ¨ç½²

### æ–¹æ³• 1ï¼šä½¿ç”¨ Git è‡ªåŠ¨éƒ¨ç½²ï¼ˆå¦‚æœå·²é…ç½®ï¼‰

```bash
# 1. æäº¤æ‰€æœ‰ä¿®å¤
git add js/calc/baziCore.js js/calc/fourTransformations.js js/calc/overlapAnalysis.js js/calc.js js/ui.js index.html

git commit -m "fix: ä¿®å¤ JavaScript è¯­æ³•é”™è¯¯å’Œä¾èµ–åŠ è½½é—®é¢˜

- ä¿®å¤ baziCore.js è§£æ„èµ‹å€¼è¯­æ³•é”™è¯¯
- ä¿®å¤ fourTransformations.js ä¾èµ–æ£€æŸ¥é€»è¾‘
- ä¿®å¤ overlapAnalysis.js ä¾èµ–æ£€æŸ¥é€»è¾‘
- ç§»é™¤ calc.js ä¸­ mingBranch çš„å†—ä½™èµ‹å€¼
- æ”¹è¿› ui.js çš„ window.Calc æœªå®šä¹‰å¤„ç†
- æ›´æ–°æ‰€æœ‰ç‰ˆæœ¬å·åˆ° ?v=3"

# 2. æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼ˆä¼šè‡ªåŠ¨è§¦å‘ Cloudflare Pages éƒ¨ç½²ï¼‰
git push origin main
# æˆ–
git push origin master
```

### æ–¹æ³• 2ï¼šä½¿ç”¨ Wrangler ç›´æ¥éƒ¨ç½²ï¼ˆæ¨èï¼Œæœ€å¿«ï¼‰

```bash
# ç›´æ¥éƒ¨ç½²å½“å‰ä»£ç åˆ°ç”Ÿäº§ç¯å¢ƒ
npx wrangler pages deploy . --project-name=bazi
```

è¿™ä¼šç«‹å³éƒ¨ç½²æ‰€æœ‰æ–‡ä»¶åˆ° Cloudflare Pagesï¼ŒåŒ…æ‹¬æ‰€æœ‰ä¿®å¤ã€‚

## ğŸ” éƒ¨ç½²åéªŒè¯

### 1. ç­‰å¾…éƒ¨ç½²å®Œæˆ

Cloudflare Pages éƒ¨ç½²é€šå¸¸éœ€è¦ 1-2 åˆ†é’Ÿã€‚å¯ä»¥åœ¨ Cloudflare Dashboard æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€ã€‚

### 2. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜å¹¶æµ‹è¯•

```bash
# è®¿é—®ç”Ÿäº§ç¯å¢ƒ
https://www.17gonplay.com/index.html
```

**é‡è¦**ï¼šå¿…é¡»æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ï¼
- Windows/Linux: `Ctrl + Shift + Delete`
- Mac: `Cmd + Shift + Delete`
- æˆ–ä½¿ç”¨æ— ç—•æ¨¡å¼

### 3. æ£€æŸ¥ç‰ˆæœ¬å·

æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰â†’ Network æ ‡ç­¾ï¼Œåˆ·æ–°é¡µé¢ï¼Œç¡®è®¤ï¼š
- âœ… `baziCore.js?v=3`ï¼ˆä¸æ˜¯ `?v=1`ï¼‰
- âœ… `fourTransformations.js?v=3`ï¼ˆä¸æ˜¯ `?v=1`ï¼‰
- âœ… `calc.js?v=3`ï¼ˆä¸æ˜¯ `?v=2`ï¼‰
- âœ… `ui.js?v=3`ï¼ˆä¸æ˜¯ `?v=2`ï¼‰

### 4. æ£€æŸ¥æ§åˆ¶å°

ç¡®è®¤æ²¡æœ‰ä»¥ä¸‹é”™è¯¯ï¼š
- âŒ `SyntaxError: Unexpected token '{'`
- âŒ `Identifier 'mingBranch' has already been declared`
- âŒ `Cannot destructure property 'PALACE_DEFAULT'`

## ğŸ¯ å¿«é€Ÿéƒ¨ç½²å‘½ä»¤

æˆ‘å·²ç»åˆ›å»ºäº† `deploy.sh` è„šæœ¬ï¼Œä½ å¯ä»¥ç›´æ¥è¿è¡Œï¼š

```bash
./deploy.sh
```

è¿™ä¸ªè„šæœ¬ä¼šï¼š
1. âœ… æ£€æŸ¥è¯­æ³•
2. âœ… éƒ¨ç½²åˆ° Cloudflare Pages
3. âœ… æ˜¾ç¤ºéƒ¨ç½²ç»“æœ

## ğŸ“ å¦‚æœä½¿ç”¨ Git éƒ¨ç½²

å¦‚æœä½ ä½¿ç”¨ Git è‡ªåŠ¨éƒ¨ç½²ï¼Œéœ€è¦å…ˆæäº¤ï¼š

```bash
# æäº¤ä¿®å¤
git add js/calc/baziCore.js js/calc/fourTransformations.js js/calc/overlapAnalysis.js js/calc.js js/ui.js index.html
git commit -m "fix: ä¿®å¤ JavaScript è¯­æ³•é”™è¯¯"
git push origin main
```

## âš¡ æœ€å¿«æ–¹æ³•

**ç›´æ¥è¿è¡Œè¿™ä¸ªå‘½ä»¤**ï¼š

```bash
npx wrangler pages deploy . --project-name=bazi
```

è¿™ä¼šç«‹å³éƒ¨ç½²æ‰€æœ‰ä¿®å¤åˆ°ç”Ÿäº§ç¯å¢ƒï¼
