# 星等分级统计偏误分析

## 📊 当前阈值设置

```
5星：90-100分（10分区间，占10%）
4星：75-89分（15分区间，占15%）
3星：50-74分（25分区间，占25%）
2星：30-49分（20分区间，占20%）
1星：0-29分（30分区间，占30%）
```

## ⚠️ 潜在问题

### 1. **区间不均匀**
- 3星区间最大（25分），5星区间最小（10分）
- 可能导致分数集中在3星区间

### 2. **绝对阈值问题**
- 90分作为5星门槛可能太高，导致5星很少出现
- 30分作为2星门槛可能太低，导致1-2星过多
- 如果标准化基准值调整，阈值也需要相应调整

### 3. **统计偏误**
- 如果大部分宫位分数在40-60分，会导致大部分都是3星
- 缺乏相对排名，无法反映宫位之间的相对强弱

## 💡 改进方案

### 方案A：使用百分位数（Percentile）划分（推荐）

根据所有12宫位的分数分布，动态划分：
- 5星：Top 20%（前20%）
- 4星：20%-40%
- 3星：40%-60%
- 2星：60%-80%
- 1星：Bottom 20%（后20%）

**优点**：
- 确保每个星等都有合理的分布（各占20%）
- 反映相对强弱，而非绝对分数
- 避免统计偏误

**缺点**：
- 需要先计算所有宫位分数
- 每次计算都需要重新排序

### 方案B：调整绝对阈值

基于实际分数分布，调整阈值：
```
5星：80-100分（20分区间）
4星：65-79分（15分区间）
3星：50-64分（15分区间）
2星：35-49分（15分区间）
1星：0-34分（35分区间）
```

**优点**：
- 简单直接
- 不需要重新排序

**缺点**：
- 仍可能因分数分布不均导致偏误
- 需要根据实际数据调整

### 方案C：混合方案（绝对+相对）

结合绝对阈值和相对排名：
1. 先使用绝对阈值初步划分
2. 如果某个星等数量过少/过多，使用相对排名调整

## 🎯 推荐实施

**建议采用方案A（百分位数）**，因为：
1. 更符合统计学的公平性
2. 能准确反映12宫位的相对强弱
3. 避免因标准化基准值变化导致的偏误
